<ui:composition template="/resources/template/default.xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pf="http://primefaces.org/ui"
        >

            <ui:define name="content">
                <div class="container">
                <h:form styleClass="bookingForm">
                    <h2>Available trips</h2>

                    <pf:dataScroller id="availtrips" styleClass="table" value="#{searchController.trips}" var="trip">
                        <f:facet name="header">
                            Scroll Down to load more trips
                        </f:facet>
                        <f:facet name="loader">
                            <pf:commandButton type="button" value="More" icon="ui-icon-circle-triangle-s"/>
                        </f:facet>
                        <pf:tabView>
                            <pf:tab title="General info">
                                <h:panelGrid columns="2" style="width:100%" layout="grid" columnClasses="picture,details">
                                    <h:graphicImage height="40%" library="images" name="greece.jpg"/>
                                    <pf:outputPanel>
                                        <h:panelGrid columns="2" style="width: auto" layout="grid" columnClasses="title,detail">
                                            <h:outputText value="Trip : "/>
                                            <h:outputText value="#{trip.tripName}" style="font-weight: bold"/>
                                            <h:outputText value="Airline : "/>
                                            <h:outputText value="#{trip.fromFlight.airline.name}" style="font-weight: bold"/>
                                            <h:outputText value="from: "/>
                                            <h:outputText value="#{trip.toFlight.departAirport.city} - #{trip.fromFlight.departAirport.city}" style="font-weight: bold"/>
                                            <h:outputText value="To: "/>
                                            <h:outputText value="#{trip.fromFlight.departAirport.city}" style="font-weight: bold"/>
                                        </h:panelGrid>


                                            <h:commandButton styleClass="btn btn-default form-control" value="Go to booking" action="#{authController.goToBookingPage(trip)}"/>

                                    </pf:outputPanel>
                                </h:panelGrid>
                            </pf:tab>
                            <pf:tab title="Departure info">
                                <h:panelGrid columns="2" style="width: 100%" columnClasses="title,details">
                                    <h:outputText value="Departure city : "/>
                                    <h:outputText value="#{trip.toFlight.departAirport.city}" style="font-weight: bold"/>
                                    <h:outputText value="Departure airport: "/>
                                    <h:outputText value="#{trip.toFlight.departAirport.name} (#{trip.toFlight.departAirport.airportCode})" style="font-weight: bold"/>

                                    <h:outputText value="Departure date - time :  "/>
                                    <h:outputText value="#{trip.toFlight.departureDate}" style="font-weight: bold">
                                        <f:convertDateTime pattern="dd/MM/yyyy hh:mm"/>
                                    </h:outputText>
                                    <h:outputText value="Destination city : "/>
                                    <h:outputText value="#{trip.toFlight.arrivalAirport.city}" style="font-weight: bold"/>
                                    <h:outputText value="Destination airport : "/>
                                    <h:outputText value="#{trip.toFlight.arrivalAirport.name} (#{trip.toFlight.arrivalAirport.airportCode})" style="font-weight: bold"/>
                                    <h:outputText value="Arrival date - time :"/>
                                    <h:outputText value="#{trip.toFlight.arrivalDate}" style="font-weight: bold">
                                        <f:convertDateTime pattern="dd/MM/yyyy hh:mm"/>
                                    </h:outputText>
                                </h:panelGrid>
                            </pf:tab>
                            <pf:tab title="Return info">
                                <h:panelGrid columns="2" style="width: 100%" columnClasses="title,details">
                                    <h:outputText value="Departure city : "/>
                                    <h:outputText value="#{trip.fromFlight.departAirport.city}" style="font-weight: bold"/>
                                    <h:outputText value="Departure airport: "/>
                                    <h:outputText value="#{trip.fromFlight.departAirport.name} (#{trip.fromFlight.departAirport.airportCode})" style="font-weight: bold"/>

                                    <h:outputText value="Departure date - time :  "/>
                                    <h:outputText value="#{trip.fromFlight.departureDate}" style="font-weight: bold">
                                        <f:convertDateTime pattern="dd/MM/yyyy hh:mm"/>
                                    </h:outputText>
                                    <h:outputText value="Destination city : "/>
                                    <h:outputText value="#{trip.fromFlight.arrivalAirport.city}" style="font-weight: bold"/>
                                    <h:outputText value="Destination airport : "/>
                                    <h:outputText value="#{trip.fromFlight.arrivalAirport.name} (#{trip.fromFlight.arrivalAirport.airportCode})" style="font-weight: bold"/>
                                    <h:outputText value="Arrival date - time :"/>
                                    <h:outputText value="#{trip.fromFlight.arrivalDate}" style="font-weight: bold">
                                        <f:convertDateTime pattern="dd/MM/yyyy hh:mm"/>
                                    </h:outputText>
                                </h:panelGrid>
                            </pf:tab>
                        </pf:tabView>

                    </pf:dataScroller>




                    <h:messages errorClass="alert alert-error"/>
                </h:form>
                </div>
            </ui:define>
</ui:composition>
